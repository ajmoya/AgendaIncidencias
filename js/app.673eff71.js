(function(e){function a(a){for(var o,i,s=a[0],c=a[1],l=a[2],p=0,d=[];p<s.length;p++)i=s[p],r[i]&&d.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(a);while(d.length)d.shift()();return n.push.apply(n,l||[]),t()}function t(){for(var e,a=0;a<n.length;a++){for(var t=n[a],o=!0,s=1;s<t.length;s++){var c=t[s];0!==r[c]&&(o=!1)}o&&(n.splice(a--,1),e=i(i.s=t[0]))}return e}var o={},r={app:0},n=[];function i(a){if(o[a])return o[a].exports;var t=o[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=o,i.d=function(e,a,t){i.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,a){if(1&a&&(e=i(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var o in e)i.d(t,o,function(a){return e[a]}.bind(null,o));return t},i.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(a,"a",a),a},i.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},i.p="/agendaIncidencias/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=a,s=s.slice();for(var l=0;l<s.length;l++)a(s[l]);var u=c;n.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("cd49")},cd49:function(e,a,t){"use strict";t.r(a);t("cadf"),t("551c"),t("f751"),t("097d");var o=t("2b0e"),r=t("bb71");t("da64");o["default"].use(r["a"],{iconfont:"md"});var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-app",[t("v-snackbar",{attrs:{top:"",timeout:e.timeout},model:{value:e.snackbarInstalar,callback:function(a){e.snackbarInstalar=a},expression:"snackbarInstalar"}},[e._v("\n    ¿Desea instalar la app web?\n    "),t("v-btn",{attrs:{color:"pink",flat:""},on:{click:e.instalarApp}},[e._v("Instalar")])],1),t("router-view",{attrs:{errores:e.errores},on:{intentarLoguear:e.login}}),t("v-snackbar",{attrs:{vertical:"",bottom:"",timeout:e.timeout},model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v("\n    Versión actual App: "+e._s(e.versionActual)+" Se ha encontrado una nueva versión de la app\n    "),t("v-btn",{attrs:{color:"pink",flat:""},on:{click:e.recargarApp}},[e._v("Actualizar")])],1)],1)},i=[],s=(t("a481"),t("d225")),c=t("b0b4"),l=t("308d"),u=t("6bb5"),p=t("4e2b"),d=t("9ab4"),v=t("60a3"),f=t("f499"),b=t.n(f);function m(e){var a=g(),t=!1;""===e.alias||""===e.password?console.log("El usuario y password deben ser introducidos"):e.alias===a.alias&&e.password===a.password?(console.log("El usuario y password son válidos!"),t=!0,localStorage.usuario=b()(e)):console.log("El usuario y/o password son incorrectos");var o=h(e,a);return{autenticado:t,errores:o}}function g(){var e={id:1,alias:"admin",password:"1234"};return e}function h(e,a){var t={alias:"",password:""};return""===e.alias?t.alias="Debe introducir un nombre":e.alias!==a.alias&&(t.alias="Usuario incorrecto"),""===e.password?t.password="Debe introducir un password":e.password!==a.password&&(t.password="Password incorrecto"),t}var O={Version:"0.1.0"},j=function(e){function a(){var e;return Object(s["a"])(this,a),e=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),e.errores={alias:"",password:""},e.snackbar=!1,e.snackbarInstalar=!1,e.timeout=6e4,e}return Object(p["a"])(a,e),Object(c["a"])(a,[{key:"login",value:function(e){var a=m(e);this.errores=a.errores,a.autenticado&&this.$router.replace({name:"home"})}},{key:"logout",value:function(){console.log("recibiendo evento cerrarSesion!"),localStorage.removeItem("usuario")}},{key:"recargarApp",value:function(){this.snackbar=!1,window.location.reload()}},{key:"instalarApp",value:function(){}},{key:"created",value:function(){var e,a=this;console.log("hook created APP"),Re.$on("cerrarSesion",function(){a.logout(),a.$router.replace({name:"login"})}),Re.$on("nuevaVersion",function(){console.log("versión actual APP:"+a.versionActual),a.snackbar=!0}),window.addEventListener("beforeinstallprompt",function(t){console.log("entra en el evento beforeinstallprompt APP"),t.preventDefault(),e=t,a.snackbarInstalar=!0}),this.instalarApp=function(){a.snackbarInstalar=!1,e.prompt(),e.userChoice.then(function(a){"accepted"===a.outcome?console.log("Usuario aceptó"):console.log("Usuario denegó"),e=null})}}},{key:"mounted",value:function(){console.log("hook mounted APP")}},{key:"beforeDestroy",value:function(){localStorage.removeItem("usuario")}},{key:"versionActual",get:function(){return O.Version}}]),a}(v["c"]);j=d["a"]([Object(v["a"])({name:"App",components:{}})],j);var y=j,k=y,w=t("2877"),V=t("6544"),_=t.n(V),x=t("7496"),P=t("8336"),A=t("2db4"),C=Object(w["a"])(k,n,i,!1,null,null,null),I=C.exports;_()(C,{VApp:x["a"],VBtn:P["a"],VSnackbar:A["a"]});t("7f7f");var S=t("8c4f"),E=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-app",[t("v-navigation-drawer",{attrs:{clipped:"",absolute:"",app:""},model:{value:e.mostrarPanel,callback:function(a){e.mostrarPanel=a},expression:"mostrarPanel"}},[t("MenuLateral")],1),t("cabecera",{attrs:{mostrarPanel:e.mostrarPanel,mostrarAreaUsuario:!0},on:{mostrarOcultarPanel:e.setVisibilidadPanel}}),t("v-content",[t("v-container",{attrs:{fluid:""}},[t("v-layout",{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t("titulo",{attrs:{mostrarIcono:!0}}),t(e.componentesHijos[e.componenteActual],{tag:"component",attrs:{opciones:e.opcionesActuales},on:{cerrarDatosContacto:e.cerrarComponenteDatosContacto,validarOpcion:e.validarComponenteOpcion}})],1)],1)],1),t("v-footer",{attrs:{app:"",fixed:""}},[t("span",[e._v("© 2019")])])],1)},T=[],$=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-toolbar",{attrs:{"clipped-left":!0,app:"",absolute:"",dark:"",color:"indigo"}},[t("v-toolbar-title",{staticClass:"headline text-uppercase",staticStyle:{}},[t("span",[e._v("SAI-")]),t("span",{staticClass:"font-weight-light"},[e._v("WEB")]),t("span",[e._v(" "+e._s(e.getVersion))])]),t("v-spacer"),e.mostrarAreaUsuario?t("v-tooltip",{attrs:{bottom:""}},[t("v-btn",{attrs:{slot:"activator",icon:"",large:""},on:{click:e.cerrarSesion},slot:"activator"},[t("v-icon",{attrs:{large:""}},[e._v("exit_to_app")])],1),t("span",[e._v("Salir")])],1):e._e()],1)},D=[],L=function(e){function a(){return Object(s["a"])(this,a),Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments))}return Object(p["a"])(a,e),Object(c["a"])(a,[{key:"mostrarOcultarPanel",value:function(){console.log("emitiendo evento mostrarOcultarPanel"),this.$emit("mostrarOcultarPanel",!this.mostrarPanel)}},{key:"cerrarSesion",value:function(){console.log("emitiendo evento cerrarSesion"),Re.$emit("cerrarSesion")}},{key:"getVersion",get:function(){return O.Version}},{key:"getIcono",get:function(){return this.mostrarPanel?"fast_rewind":"fast_forward"}}]),a}(v["c"]);d["a"]([Object(v["b"])(Boolean)],L.prototype,"mostrarPanel",void 0),d["a"]([Object(v["b"])(Boolean)],L.prototype,"mostrarAreaUsuario",void 0),L=d["a"]([Object(v["a"])({components:{}})],L);var B=L,U=B,M=t("132d"),F=t("9910"),N=t("71d9"),q=t("2a7f"),H=t("3a2f"),z=Object(w["a"])(U,$,D,!1,null,null,null),G=z.exports;_()(z,{VBtn:P["a"],VIcon:M["a"],VSpacer:F["a"],VToolbar:N["a"],VToolbarTitle:q["a"],VTooltip:H["a"]});var J=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-flex",{attrs:{xs12:""}},[t("v-card",[t("v-card-text",[e._v("TITULO")])],1)],1)},R=[],W=function(e){function a(){return Object(s["a"])(this,a),Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments))}return Object(p["a"])(a,e),a}(v["c"]);d["a"]([Object(v["b"])(Boolean)],W.prototype,"mostrarIcono",void 0),W=d["a"]([Object(v["a"])({components:{}})],W);var K=W,Q=K,X=t("b0af"),Y=t("99d9"),Z=t("0e8f"),ee=Object(w["a"])(Q,J,R,!1,null,null,null),ae=ee.exports;_()(ee,{VCard:X["a"],VCardText:Y["b"],VFlex:Z["a"]});var te=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div")},oe=[],re=function(e){function a(){return Object(s["a"])(this,a),Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments))}return Object(p["a"])(a,e),a}(v["c"]);re=d["a"]([v["a"]],re);var ne=re,ie=ne,se=Object(w["a"])(ie,te,oe,!1,null,null,null),ce=se.exports,le=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-flex",{attrs:{xs12:""}},[t("v-card",[t("v-card-text",[t("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[t("v-layout",{attrs:{row:"",wrap:""}},e._l(e.opciones,function(a){return t("v-flex",{key:"1"+a.id,attrs:{xs12:"",md6:"",lg3:""}},[t("v-card",{attrs:{dark:"",color:"indigo"},on:{click:function(t){e.validarOpcion(a)}}},[t("v-card-text",{staticClass:"px-0"},[e._v("\n                "+e._s(a.nombre)+"\n                "),t("v-icon",{attrs:{right:""}},[e._v("navigate_next")])],1)],1)],1)}),1)],1)],1)],1)],1)},ue=[],pe=function(e){function a(){return Object(s["a"])(this,a),Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments))}return Object(p["a"])(a,e),Object(c["a"])(a,[{key:"validarOpcion",value:function(e){this.$emit("validarOpcion",e)}}]),a}(v["c"]);d["a"]([Object(v["b"])(Array)],pe.prototype,"opciones",void 0),pe=d["a"]([v["a"]],pe);var de=pe,ve=de,fe=t("a523"),be=t("a722"),me=Object(w["a"])(ve,le,ue,!1,null,null,null),ge=me.exports;_()(me,{VCard:X["a"],VCardText:Y["b"],VContainer:fe["a"],VFlex:Z["a"],VIcon:M["a"],VLayout:be["a"]});var he=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-card",[t("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("\r\n          Privacy Policy\r\n        ")]),t("v-card-text",[e._v("\r\n          Contacto del RETÉN shurperro: 696969.\r\n        ")]),t("v-divider"),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{dark:"",color:"indigo"},on:{click:e.cerrarDatosContacto}},[e._v("Cerrar")])],1)],1)],1)},Oe=[],je=function(e){function a(){var e;return Object(s["a"])(this,a),e=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),e.dialog=!0,e}return Object(p["a"])(a,e),Object(c["a"])(a,[{key:"cerrarDatosContacto",value:function(){this.$emit("cerrarDatosContacto")}},{key:"created",value:function(){console.log("hock create Datos contacto")}}]),a}(v["c"]);je=d["a"]([v["a"]],je);var ye=je,ke=ye,we=t("12b2"),Ve=t("169a"),_e=t("ce7e6"),xe=Object(w["a"])(ke,he,Oe,!1,null,null,null),Pe=xe.exports;_()(xe,{VBtn:P["a"],VCard:X["a"],VCardActions:Y["a"],VCardText:Y["b"],VCardTitle:we["a"],VDialog:Ve["a"],VDivider:_e["a"],VSpacer:F["a"]});var Ae=function(e){function a(){var e;return Object(s["a"])(this,a),e=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),e.mostrarPanel=!1,e.opcion={id:0,nivel:0,nombre:"Inicio",hoja:!1,padre:-1},e.opciones=[{id:0,nivel:0,nombre:"Inicio",hoja:!1,padre:-1},{id:1,nivel:1,nombre:"Opcion 1",hoja:!1,padre:0},{id:2,nivel:1,nombre:"Opcion 2",hoja:!0,padre:0},{id:3,nivel:1,nombre:"Opcion 3",hoja:!0,padre:0},{id:4,nivel:1,nombre:"Opcion 4",hoja:!0,padre:0},{id:5,nivel:1,nombre:"Opcion 5",hoja:!1,padre:0},{id:6,nivel:1,nombre:"Opcion 6",hoja:!1,padre:0},{id:7,nivel:2,nombre:"Opcion 1.1",hoja:!0,padre:1},{id:8,nivel:2,nombre:"Opcion 1.2",hoja:!0,padre:1},{id:9,nivel:2,nombre:"Opcion 1.3",hoja:!0,padre:1},{id:10,nivel:2,nombre:"Opcion 1.4",hoja:!0,padre:1},{id:11,nivel:2,nombre:"Opcion 5.1",hoja:!0,padre:5},{id:12,nivel:2,nombre:"Opcion 5.2",hoja:!0,padre:6}],e.componentesHijos=["lista-opciones","resultado","datos-contacto"],e.componenteActual=0,e}return Object(p["a"])(a,e),Object(c["a"])(a,[{key:"created",value:function(){console.log("hook created HOME")}},{key:"cerrarComponenteDatosContacto",value:function(){this.componenteActual=1}},{key:"validarComponenteOpcion",value:function(e){e.hoja?(console.log("vamos a mostrar el componente hijo Resultado.vue"),this.componenteActual=1):(console.log("opcion elegida => "+e.nombre),this.opcion=e)}},{key:"setVisibilidadPanel",value:function(e){this.mostrarPanel=e,console.log("HOME: mostrarPanel: "+this.mostrarPanel)}},{key:"opcionesActuales",get:function(){var e=this;return this.opciones.filter(function(a){return a.padre===e.opcion.id})}}]),a}(v["c"]);Ae=d["a"]([Object(v["a"])({components:{Cabecera:G,Titulo:ae,MenuLateral:ce,ListaOpciones:ge,DatosContacto:Pe}})],Ae);var Ce=Ae,Ie=Ce,Se=t("549c"),Ee=t("553a"),Te=t("f774"),$e=Object(w["a"])(Ie,E,T,!1,null,null,null),De=$e.exports;_()($e,{VApp:x["a"],VContainer:fe["a"],VContent:Se["a"],VFooter:Ee["a"],VLayout:be["a"],VNavigationDrawer:Te["a"]});var Le=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("v-app",[t("Cabecera",{attrs:{mostrarPanel:!1,mostrarAreaUsuario:!1}}),t("v-container",{attrs:{"fill-height":""}},[t("v-layout",{attrs:{"align-center":"","justify-center":""}},[t("v-flex",{attrs:{xs12:"",sm10:"",md9:""}},[t("v-card",{staticClass:"elevation-12"},[t("v-toolbar",{attrs:{dark:"",color:"indigo"}},[t("v-toolbar-title",[e._v("Acceso Agenda v"+e._s(e.versionActual))]),t("v-spacer"),t("v-tooltip",{attrs:{bottom:""}},[t("v-btn",{attrs:{slot:"activator",icon:"",large:""},slot:"activator"},[t("v-icon",{attrs:{large:""}},[e._v("event")])],1),t("span",[e._v("Agenda")])],1)],1),t("v-card-text",[t("v-text-field",{attrs:{"prepend-icon":"person",name:"usuario",label:"Usuario",type:"text","error-messages":e.errores.alias},model:{value:e.usuario.alias,callback:function(a){e.$set(e.usuario,"alias","string"===typeof a?a.trim():a)},expression:"usuario.alias"}}),t("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"Password",id:"password","error-messages":e.errores.password,hint:"Al menos 6 caracteres","append-icon":e.mostrarPassword?"visibility":"visibility_off",type:e.mostrarPassword?"text":"password"},on:{"click:append":function(a){e.mostrarPassword=!e.mostrarPassword}},model:{value:e.usuario.password,callback:function(a){e.$set(e.usuario,"password","string"===typeof a?a.trim():a)},expression:"usuario.password"}})],1),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{dark:"",color:"indigo"},on:{click:e.login}},[e._v("Acceder"),t("v-icon",{attrs:{right:""}},[e._v("check_circle")])],1)],1)],1),t("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-card",{attrs:{color:"indigo",dark:""}},[t("v-card-text",[e._v("\n              Por favor, espere mientras se carga la interfaz...\n              "),t("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)],1)],1)],1)},Be=[],Ue=function(e){function a(){var e;return Object(s["a"])(this,a),e=Object(l["a"])(this,Object(u["a"])(a).apply(this,arguments)),e.mostrarPassword=!1,e.usuario={id:0,alias:"",password:""},e.dialog=!1,e}return Object(p["a"])(a,e),Object(c["a"])(a,[{key:"onErroresChanged",value:function(e){e&&(this.dialog=!1)}},{key:"login",value:function(){this.dialog=!0,this.$emit("intentarLoguear",this.usuario)}},{key:"created",value:function(){console.log("hook created LOGIN")}},{key:"mounted",value:function(){console.log("hook mounted LOGIN")}},{key:"versionActual",get:function(){return O.Version}}]),a}(v["c"]);d["a"]([Object(v["b"])(Object)],Ue.prototype,"errores",void 0),d["a"]([Object(v["d"])("errores")],Ue.prototype,"onErroresChanged",null),Ue=d["a"]([Object(v["a"])({components:{Cabecera:G}})],Ue);var Me=Ue,Fe=Me,Ne=t("8e36"),qe=t("2677"),He=Object(w["a"])(Fe,Le,Be,!1,null,null,null),ze=He.exports;_()(He,{VApp:x["a"],VBtn:P["a"],VCard:X["a"],VCardActions:Y["a"],VCardText:Y["b"],VContainer:fe["a"],VDialog:Ve["a"],VFlex:Z["a"],VIcon:M["a"],VLayout:be["a"],VProgressLinear:Ne["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:N["a"],VToolbarTitle:q["a"],VTooltip:H["a"]}),o["default"].use(S["a"]);var Ge=new S["a"]({routes:[{path:"/login",name:"login",component:ze},{path:"/",name:"home",component:De,meta:{requiresAuth:!0}},{path:"*",redirect:"/"}]});Ge.beforeEach(function(e,a,t){var o=localStorage.getItem("usuario");return"login"===e.name&&o?t("/"):!o&&e.matched.some(function(e){return e.meta.requiresAuth})?t({path:"/login",query:{redirect:e.fullPath}}):void t()});var Je=t("9483");Object(Je["a"])("".concat("/agendaIncidencias/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(e){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(e){console.log("Nueva versión encontrada. Descargando...")},updated:function(e){console.log("El nuevo contenido está disponible. Por favor refresca."),Re.$emit("nuevaVersion")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),t.d(a,"EventBus",function(){return Re}),o["default"].config.productionTip=!1;var Re=new o["default"];new o["default"]({router:Ge,render:function(e){return e(I)}}).$mount("#app")}});
//# sourceMappingURL=app.673eff71.js.map